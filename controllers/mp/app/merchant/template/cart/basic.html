<div ng-controller='cartCtrl'>
    <div class='catelog' ng-repeat="cate in catelogs">
        <div class='products'>
            <div class='product' ng-repeat="p in cate.products">
                <div class='form-group'>
                    <label class='form-control-static'>名称</label>
                    <div class='form-control-static' ng-bind='p.name'></div>
                </div>
                <div class='form-group'>
                    <label class='form-control-static'>介绍</label>
                    <div>
                        <div class='form-control-static detail_text' ng-bind="p.detail_text||'&nbsp;'"></div>
                    </div>
                </div>
                <div class='form-group prop' ng-repeat='cp in cate.properties'>
                    <label class='form-control-static' ng-bind='cp.name'></label>
                    <div class='form-control-static' ng-bind="p.propValue[cp.id].name||'&nbsp;'"></div>
                </div>
                <div class='skus'>
                    <div class='sku' ng-class="{'selected':s.selected,'unavailable':s.quantity==0}" ng-repeat='s in p.skus' ng-click='chooseSku(s)'>
                        <div>
                            <div class='summary'>
                                <div ng-bind="summarySku(cate,p,s)"></div>
                            </div>
                            <div class='price' ng-if="s.cateSku.require_pay==='Y'">
                                <div ng-bind="(s.price/100)||'&nbsp;'"></div>
                            </div>
                        </div>
                        <div>
                            <button class='btn btn-danger btn-sm' ng-click='removeSku(p, s, $index)'>删除</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer>
        <button ng-click='empty()'>清空</button>
        <button ng-click='gotoOrder(orderInfo.skus)'>订购</button>
    </footer>
</div>